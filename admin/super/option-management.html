<!DOCTYPE html>
<html id="html-lang" lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>SMART TRAVEL ADMIN - Option Management</title>

	<script>
		(function() {
			function getCookie(name) {
				const value = `; ${document.cookie}`;
				const parts = value.split(`; ${name}=`);
				if (parts.length === 2) return parts.pop().split(';').shift();
				return null;
			}
			const lang = getCookie('lang') || 'eng';
			const htmlLang = document.getElementById('html-lang') || document.documentElement;
			htmlLang.setAttribute('lang', (lang === 'tl') ? 'tl' : 'en');
		})();
	</script>

	<link rel="shortcut icon" href="../image/favicon.ico">
	<link rel="stylesheet" href="../css/a_reset.css">
	<link rel="stylesheet" href="../css/a_variables.css">
	<link rel="stylesheet" href="../css/a_components.css">
	<link rel="stylesheet" href="../css/a_contents.css">

	<style>
		.airline-selector {
			display: flex;
			align-items: center;
			gap: 16px;
			margin-bottom: 24px;
		}
		.airline-selector select {
			min-width: 250px;
			height: 44px;
			padding: 0 16px;
			border: 1px solid #E5E7EB;
			border-radius: 8px;
			font-size: 15px;
		}
		.category-card {
			background: #fff;
			border: 1px solid #E5E7EB;
			border-radius: 12px;
			margin-bottom: 16px;
			overflow: hidden;
		}
		.category-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 16px 20px;
			background: #F9FAFB;
			border-bottom: 1px solid #E5E7EB;
		}
		.category-title {
			font-size: 16px;
			font-weight: 600;
			color: #111827;
		}
		.category-title-en {
			font-size: 13px;
			color: #6B7280;
			margin-left: 8px;
		}
		.category-actions {
			display: flex;
			gap: 8px;
		}
		.category-body {
			padding: 16px 20px;
		}
		.option-list {
			display: flex;
			flex-direction: column;
			gap: 8px;
		}
		.option-item {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 12px 16px;
			background: #F9FAFB;
			border-radius: 8px;
		}
		.option-info {
			display: flex;
			align-items: center;
			gap: 16px;
		}
		.option-name {
			font-size: 14px;
			font-weight: 500;
			color: #374151;
		}
		.option-name-en {
			font-size: 13px;
			color: #9CA3AF;
		}
		.option-price {
			font-size: 14px;
			font-weight: 600;
			color: #0056d9;
		}
		.option-actions {
			display: flex;
			gap: 8px;
		}
		.add-option-btn {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 6px;
			width: 100%;
			padding: 12px;
			margin-top: 12px;
			border: 1px dashed #D1D5DB;
			border-radius: 8px;
			background: transparent;
			color: #6B7280;
			font-size: 14px;
			cursor: pointer;
			transition: all 0.15s;
		}
		.add-option-btn:hover {
			border-color: #0056d9;
			color: #0056d9;
			background: #F0F7FF;
		}
		.empty-state {
			text-align: center;
			padding: 60px 20px;
			color: #9CA3AF;
		}
		.empty-state p {
			margin-top: 12px;
			font-size: 14px;
		}
		.btn-icon {
			width: 32px;
			height: 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			border: none;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.15s;
		}
		.btn-icon.edit {
			background: #EEF2FF;
			color: #4F46E5;
		}
		.btn-icon.edit:hover {
			background: #4F46E5;
			color: #fff;
		}
		.btn-icon.delete {
			background: #FEF2F2;
			color: #DC2626;
		}
		.btn-icon.delete:hover {
			background: #DC2626;
			color: #fff;
		}
		.inactive {
			opacity: 0.5;
		}
		.status-badge {
			font-size: 11px;
			padding: 2px 8px;
			border-radius: 4px;
			margin-left: 8px;
		}
		.status-badge.active {
			background: #D1FAE5;
			color: #065F46;
		}
		.status-badge.inactive {
			background: #FEE2E2;
			color: #991B1B;
		}
	</style>
</head>

<body>
	<header class="layout-header"></header>

	<main class="layout-main">
		<nav class="layout-nav"></nav>

		<section class="layout-content">
			<div class="jw-cols jw-between">
				<h1 class="page-title" data-lan-eng="Option Management">Option Management</h1>
			</div>

			<!-- Airline Selector -->
			<div class="card-panel jw-mgt16">
				<div class="airline-selector">
					<label class="label-name" data-lan-eng="Select Airline">Select Airline</label>
					<select class="select" id="airlineSelect" onchange="loadAirlineOptions()">
						<option value="">-- Select Airline --</option>
					</select>
					<button type="button" class="jw-button typeB" onclick="openAddCategoryModal()" id="addCategoryBtn" disabled>
						<span data-lan-eng="+ Add Category">+ Add Category</span>
					</button>
				</div>
			</div>

			<!-- Categories Container -->
			<div id="categoriesContainer" class="jw-mgt16">
				<div class="empty-state">
					<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#D1D5DB" stroke-width="1.5">
						<path d="M19 11H5M19 11C20.1046 11 21 11.8954 21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V13C3 11.8954 3.89543 11 5 11M19 11V9C19 7.89543 18.1046 7 17 7M5 11V9C5 7.89543 5.89543 7 7 7M7 7V5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V7M7 7H17"/>
					</svg>
					<p data-lan-eng="Select an airline to manage options">Select an airline to manage options</p>
				</div>
			</div>
		</section>
	</main>

	<!-- Add/Edit Category Modal -->
	<div class="modal" id="categoryModal">
		<div class="modal-content modal-small">
			<div class="modal-header">
				<h3 id="categoryModalTitle" data-lan-eng="Add Category">Add Category</h3>
				<button class="modal-close" onclick="closeCategoryModal()">
					<img src="../image/button-close2.svg" alt="Close">
				</button>
			</div>
			<div class="modal-body" style="padding: 24px;">
				<input type="hidden" id="editCategoryId">
				<div class="form-group">
					<label class="label-name" data-lan-eng="Category Name">Category Name</label>
					<input type="text" class="form-control" id="categoryName" placeholder="예: Seat, Baggage, Meal">
				</div>
				<div class="form-group jw-mgt16">
					<label class="label-name" data-lan-eng="Category Name (English)">Category Name (English)</label>
					<input type="text" class="form-control" id="categoryNameEn" placeholder="e.g., Seat, Baggage, Meal">
				</div>
			</div>
			<div class="modal-footer" style="padding: 16px 24px; border-top: 1px solid #E5E7EB; display: flex; justify-content: flex-end; gap: 12px;">
				<button type="button" class="jw-button typeD" onclick="closeCategoryModal()" data-lan-eng="Cancel">Cancel</button>
				<button type="button" class="jw-button typeB" onclick="saveCategory()" data-lan-eng="Save">Save</button>
			</div>
		</div>
	</div>

	<!-- Add/Edit Option Modal -->
	<div class="modal" id="optionModal">
		<div class="modal-content modal-small">
			<div class="modal-header">
				<h3 id="optionModalTitle" data-lan-eng="Add Option">Add Option</h3>
				<button class="modal-close" onclick="closeOptionModal()">
					<img src="../image/button-close2.svg" alt="Close">
				</button>
			</div>
			<div class="modal-body" style="padding: 24px;">
				<input type="hidden" id="editOptionId">
				<input type="hidden" id="optionCategoryId">
				<div class="form-group">
					<label class="label-name" data-lan-eng="Option Name">Option Name</label>
					<input type="text" class="form-control" id="optionName" placeholder="예: Business Class, 20kg">
				</div>
				<div class="form-group jw-mgt16">
					<label class="label-name" data-lan-eng="Option Name (English)">Option Name (English)</label>
					<input type="text" class="form-control" id="optionNameEn" placeholder="e.g., Business Class, 20kg">
				</div>
				<div class="form-group jw-mgt16">
					<label class="label-name" data-lan-eng="Price (PHP)">Price (PHP)</label>
					<input type="number" class="form-control" id="optionPrice" placeholder="0" min="0" step="100">
				</div>
			</div>
			<div class="modal-footer" style="padding: 16px 24px; border-top: 1px solid #E5E7EB; display: flex; justify-content: flex-end; gap: 12px;">
				<button type="button" class="jw-button typeD" onclick="closeOptionModal()" data-lan-eng="Cancel">Cancel</button>
				<button type="button" class="jw-button typeB" onclick="saveOption()" data-lan-eng="Save">Save</button>
			</div>
		</div>
	</div>

	<script src="../js/default.js"></script>
	<script src="../js/super.js"></script>
	<script src="../js/option-management.js"></script>

	<script>
		init({
			headerUrl: '../inc/header.html',
			navUrl: '../inc/nav_super.html'
		});
	</script>
</body>

</html>
